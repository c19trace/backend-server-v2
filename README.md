# backend-server
The backend-server hosts the database, which has a table for students and attendance tokens.

## Test data
Run the following script `./testdata.sh`

## Starting the server 

### On Windows
`./start_server.sh`

### On bash
First activate the pip package manager by running the activate script, `source venv/bin/activate`.
Afterwards, run `./start_server.sh`

## API calls

### POST: /delete-token
Deletes a token to the exposure table.

### POST: /update-token-status
Updates the status of a token in the exposure table.

### GET: /get-tokens
Returns all of tokens stored in the exposure table.

### GET: /get-student-tokens
Returns all tokens generated by a given student from the exposure table.

### GET: /get-exposure-list
Returns a list of all random id's which may have been exposed to covid-19 from the exposure table.

### GET: /get-monthly-checkins
Returns a list of monthly checkins from the exposure table. The list contains a count of exposed and non-exposed tokens. 

### POST: /submit-token
Submits a token to the exposure table. The token is decrypted and then added to the table.

### GET: /get-students
Returns a list of all of the students in the student table.

### POST: /get-student-status
Returns the covid status of a given student from the student table.

### POST: /update-student-status
Updates the covid status of a given from the student table.
